<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Heartify | Ultimate Valentine Creator</title>
    
    <!-- External Assets -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@300;400;600&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="cards.css">
</head>
<!-- Default to 'mode-edit' for mobile logic -->
<body class="mode-edit">

    <div class="app-container">
        <!-- Sidebar Controls -->
        <aside class="sidebar">
            <!-- Header -->
            <div class="sidebar-header">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-pink-500/20">
                        <i data-lucide="heart" class="w-5 h-5 fill-current"></i>
                    </div>
                    
                    <!-- Title -->
                    <div class="hidden sm:block">
                        <h1 class="brand-title">Heartify</h1>
                        <p class="text-xs font-bold text-brand uppercase tracking-wide">Creator Studio</p>
                    </div>
                </div>

                <div class="flex items-center gap-2">
                    <!-- Mobile View Switcher -->
                    <div class="view-switch">
                        <div class="v-btn active" onclick="setMode('edit')" title="Edit Mode">
                            <i data-lucide="pencil" class="w-4 h-4"></i>
                        </div>
                        <div class="v-btn" onclick="setMode('preview')" title="Preview Mode">
                            <i data-lucide="eye" class="w-4 h-4"></i>
                        </div>
                    </div>

                    <!-- Theme Toggle -->
                    <button class="icon-btn" onclick="toggleTheme()" title="Toggle Theme">
                        <i data-lucide="moon" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>

            <!-- Scrollable Content -->
            <div class="sidebar-content">
                
                <!-- Group: Message -->
                <div class="control-group">
                    <div class="group-title">
                        <i data-lucide="message-circle-heart" class="w-4 h-4"></i> Message Details
                    </div>
                    
                    <label>
                        <span class="label-text">Recipient Name</span>
                        <input type="text" id="in-to" class="glass-input" placeholder="e.g. My Darling">
                    </label>

                    <label>
                        <div class="label-text">
                            <span>Your Message</span>
                            <button id="btn-quote">
                                <i data-lucide="sparkles" class="w-3 h-3"></i> AI Quote
                            </button>
                        </div>
                        <textarea id="in-msg" class="glass-input" placeholder="Write from the heart..."></textarea>
                    </label>

                    <label class="mb-0">
                        <span class="label-text">Sender Name</span>
                        <input type="text" id="in-from" class="glass-input" placeholder="e.g. Yours Forever">
                    </label>
                </div>

                <!-- Group: Design -->
                <div class="control-group">
                    <div class="group-title">
                        <i data-lucide="palette" class="w-4 h-4"></i> Style & Theme
                    </div>

                    <div class="mb-4">
                        <span class="label-text mb-2 block">Color Palette</span>
                        <div class="theme-grid" id="theme-picker">
                            <!-- Injected via JS -->
                        </div>
                    </div>

                    <label class="mb-0">
                        <span class="label-text">Typography</span>
                        <div class="relative select-wrapper">
                            <select id="in-font" class="glass-input">
                                <option value="Great Vibes">Great Vibes (Romantic)</option>
                                <option value="Dancing Script">Dancing Script (Playful)</option>
                                <option value="Playfair Display">Playfair (Elegant)</option>
                                <option value="Montserrat">Montserrat (Modern)</option>
                            </select>
                        </div>
                    </label>
                </div>

            </div>

            <!-- Footer Actions -->
            <div class="sidebar-footer">
                <button id="export-png" class="btn btn-primary">
                    <i data-lucide="download" class="w-4 h-4"></i> Download Card
                </button>
                <button id="export-pdf" class="btn btn-secondary">
                    <i data-lucide="file-text" class="w-4 h-4"></i> Save as PDF
                </button>
            </div>
        </aside>

        <!-- Preview Stage -->
        <main class="preview-stage">
            <div id="bg-particles"></div>
            <canvas id="cardCanvas"></canvas>
            
            <!-- Toast Notification -->
            <div id="toast">
                <span id="toast-text"></span>
            </div>
        </main>
    </div>

    <!-- Application Logic -->
    <script src="script.js"></script>
</body>
</html>


